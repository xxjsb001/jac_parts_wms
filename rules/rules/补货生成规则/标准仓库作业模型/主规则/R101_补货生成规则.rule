
如果(类型 == "手工创建") {
	R101_手工补货生成规则()
}

出入锁拼接条件(出锁库位集, 出锁拼接条件){
	$游标 = 1
	$拼接条件 = 出锁拼接条件
	如果(出锁库位集 != 空){
		$出锁库位集大小 = 列表大小(出锁库位集)
		每个($出锁库位:出锁库位集){

			$区区间集=分解列表($出锁库位.区区间)
			$区区间对象=赋值($区区间集,"开始值","结束值")	
			
			$排区间集=分解列表($出锁库位.排区间)
			$排区间对象=赋值($排区间集,"开始值","结束值")	
			
			$列区间集=分解列表($出锁库位.列区间)
			$列区间对象=赋值($列区间集,"开始值","结束值")
				
			$层区间集=分解列表($出锁库位.层区间)
			$层区间对象=赋值($层区间集,"开始值","结束值")
			
			$拼接条件 = 出锁拼接($拼接条件,$出锁库位.库区,$区区间对象.开始值,$区区间对象.结束值,
		    $排区间对象.开始值,$排区间对象.结束值,
		    $列区间对象.开始值,$列区间对象.结束值,
		    $层区间对象.开始值,$层区间对象.结束值)
		    
		    如果($游标 < $出锁库位集大小){
		    	$拼接条件 = $拼接条件 + " OR "
		    }	
		    $游标 = $游标 + 1
		}
	}
	如果($拼接条件==空){
		$拼接条件 = "空"
	}
	拼接条件返回值 = $拼接条件
}

补货区拼接条件(库位定位分类列表, 补货区拼接条件字符串) {

	$游标 = 1
	$拼接条件 = 补货区拼接条件字符串
	
	如果(库位定位分类列表 != 空){
		$库位定位分类列表大小 = 列表大小(库位定位分类列表)
		
		每个($库位定位分类 : 库位定位分类列表){

		    $区区间集=分解列表($库位定位分类.区区间)
		    $区区间对象=赋值($区区间集,"开始值","结束值")	
		    
		    $排区间集=分解列表($库位定位分类.排区间)
		    $排区间对象=赋值($排区间集,"开始值","结束值")	
		    
		    $列区间集=分解列表($库位定位分类.列区间)
		    $列区间对象=赋值($列区间集,"开始值","结束值")	
		    
		    $层区间集=分解列表($库位定位分类.层区间)
		    $层区间对象=赋值($层区间集,"开始值","结束值")
		    
		    $拼接条件 = 出锁拼接($拼接条件, $库位定位分类.库区, $区区间对象.开始值, $区区间对象.结束值,
		    $排区间对象.开始值,$排区间对象.结束值,
		    $列区间对象.开始值,$列区间对象.结束值,
		    $层区间对象.开始值,$层区间对象.结束值)
		    
			//打印("----拼接条件:" + $拼接条件)
		    	    
			如果($游标 < $出锁库位集大小){
		    	$拼接条件 = $拼接条件 + " OR "
		    }	
		    $游标 = $游标 + 1
		}
	}
	拼接条件返回值 = $拼接条件
}